console.log("Paz do senhor, o que voc√™ est√° fazendo aqui no console?? kkkkkk");const SHEET_ID="1B8jnN0rSlNGtnyhR_kvGBvcNzyNPvDVnsltB4nhph30",SHEET_TABS_TRY=["janeiro","fevereiro","marco","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],UPCOMING_LIMIT=6;function escapeHTML(e){return String(e??"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function parseBRDayMonthToDate(e){const t=String(e||"").trim().match(/^(\d{1,2})\/(\d{1,2})$/);if(!t)return null;const n=Number(t[1]),o=Number(t[2]);if(!(n>=1&&n<=31&&o>=1&&o<=12))return null;const a=new Date;let r=a.getFullYear(),i=new Date(r,o-1,n,0,0,0,0);return a.getTime()-i.getTime()>2592e6&&(r+=1,i=new Date(r,o-1,n,0,0,0,0)),i}function startOfToday(){const e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0)}function formatBRShort(e){const t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0");return`${["Dom","Seg","Ter","Qua","Qui","Sex","S√°b"][e.getDay()]} ‚Ä¢ ${t}/${n}`}function buildGvizUrlBySheetName(e){const t=new URLSearchParams({tqx:"out:json",sheet:e});return`https://docs.google.com/spreadsheets/d/${SHEET_ID}/gviz/tq?${t.toString()}`}function parseGviz(e){const t=e.indexOf("{"),n=e.lastIndexOf("}");if(-1===t||-1===n)throw new Error("Resposta GViz inv√°lida");const o=e.slice(t,n+1);return JSON.parse(o)}function gvizToObjects(e){const t=e&&e.table;if(!t||!Array.isArray(t.cols)||!Array.isArray(t.rows))return[];const n=t.cols.map((e=>e&&(e.label||e.id)?String(e.label||e.id):"")),o=[];for(const e of t.rows){const t={},a=e&&Array.isArray(e.c)?e.c:[];for(let e=0;e<n.length;e++){const o=n[e]||"col"+e,r=a[e];t[o]=r?r.f??r.v??"":""}o.push(t)}return o}async function fetchGvizSheet(e){const t=buildGvizUrlBySheetName(e),n=await fetch(t,{cache:"no-store"});if(!n.ok)throw new Error("HTTP "+n.status);return gvizToObjects(parseGviz(await n.text()))}async function fetchJsonTrySheets(e){let t=null;for(const n of e)try{const e=await fetchGvizSheet(n);if(Array.isArray(e))return e}catch(e){t=e}throw t||new Error("Falha ao carregar a planilha.")}function getValSmart(e,t){for(const n of t)if(e&&Object.prototype.hasOwnProperty.call(e,n))return e[n];const n={};for(const t of Object.keys(e||{}))n[String(t).toLowerCase()]=t;for(const o of t){const t=n[String(o).toLowerCase()];if(t)return e[t]}}function monthTabNameFromDate(e){return["janeiro","fevereiro","marco","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"][e.getMonth()]}function monthLabelPt(e){return["Janeiro","Fevereiro","Mar√ßo","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][e.getMonth()]}async function loadUpcomingSchedule(){const e=await fetchJsonTrySheets(SHEET_TABS_TRY),t=startOfToday().getTime();return(e||[]).map((e=>{const t=getValSmart(e,["Data","data","DATA"]),n=getValSmart(e,["Evento","evento","EVENTO"]),o=getValSmart(e,["Hor√°rio","Horario","horario","HOR√ÅRIO","HORARIO"]),a=getValSmart(e,["Observa√ß√µes","Observacoes","obs","observacoes","OBS","OBSERVACOES","OBSERVA√á√ïES"]);return{date:parseBRDayMonthToDate(t),evento:n,horario:o,obs:a}})).filter((e=>e.date)).filter((e=>e.date.getTime()>=t)).sort(((e,t)=>e.date-t.date)).slice(0,UPCOMING_LIMIT)}function renderUpcomingHTML(e){if(!e||!e.length)return'<div style="opacity:.9">üìå Nenhum evento futuro encontrado na planilha.</div>';return`\n        <div style="font-weight:950; margin-bottom:8px">üìÖ Agenda da Semana</div>\n        <div style="opacity:.85; font-size:13px; margin-top:-6px; margin-bottom:6px">P√≥ximos 6 compromissos da agenda mensal.</div>\n        <div style="border-top:1px solid rgba(255,255,255,.10)">${e.map((e=>{const t=formatBRShort(e.date),n=escapeHTML(e.evento||"Evento"),o=(e.horario||"").trim(),a=(e.obs||"").trim(),r=o?` <span style="opacity:.9">‚Ä¢ ${escapeHTML(o)}</span>`:"",i=a?`<div style="opacity:.82; font-size:13px; margin-top:4px">${escapeHTML(a)}</div>`:"";return`\n          <div style="padding:10px 0; border-top:1px solid rgba(255,255,255,.10)">\n            <div style="font-weight:950; letter-spacing:-.2px">\n              ${escapeHTML(t)}${r}\n            </div>\n            <div style="opacity:.92">${n}</div>\n            ${i}\n          </div>\n        `})).join("")}</div>\n      `}async function loadMonthScheduleAll(){const e=new Date,t=monthTabNameFromDate(e),n=(await fetchJsonTrySheets([t,...SHEET_TABS_TRY])||[]).map((e=>{const t=getValSmart(e,["Data","data","DATA"]),n=getValSmart(e,["Evento","evento","EVENTO"]),o=getValSmart(e,["Hor√°rio","Horario","horario","HOR√ÅRIO","HORARIO"]),a=getValSmart(e,["Observa√ß√µes","Observacoes","obs","observacoes","OBS","OBSERVACOES","OBSERVA√á√ïES"]);return{date:parseBRDayMonthToDate(t),evento:n,horario:o,obs:a}})).filter((e=>e.date)),o=e.getMonth(),a=e.getFullYear();return{items:n.filter((e=>e.date.getMonth()===o&&e.date.getFullYear()===a)).sort(((e,t)=>e.date-t.date)),monthLabel:monthLabelPt(e)}}function renderMonthList(e){return e&&e.length?e.map((e=>{const t=formatBRShort(e.date),n=escapeHTML(e.evento||"Evento"),o=(e.horario||"").trim(),a=(e.obs||"").trim(),r=o?` <span style="opacity:.9">‚Ä¢ ${escapeHTML(o)}</span>`:"",i=a?`<div class="eventsObs">${escapeHTML(a)}</div>`:"";return`\n          <div class="eventsItem">\n            <div class="eventsWhen">${escapeHTML(t)}${r}</div>\n            <div class="eventsTitle">${n}</div>\n            ${i}\n          </div>\n        `})).join(""):'<div class="muted" style="opacity:.92">Nenhum evento encontrado para este m√™s.</div>'}const PIX_KEY="ieqnuporanga@gmail.com",PIX_NAME="Igreja do Evangelho Quadrangular",PIX_QR_IMAGE_URL="https://i.imgur.com/I5xVAmH.jpeg",yearEl=document.getElementById("year");function syncHeader(){window.scrollY>18?document.body.classList.add("scrolled"):document.body.classList.remove("scrolled")}yearEl&&(yearEl.textContent=(new Date).getFullYear()),window.addEventListener("scroll",syncHeader,{passive:!0}),syncHeader();const menuBtn=document.getElementById("menuBtn"),closeBtn=document.getElementById("closeBtn"),backdrop=document.getElementById("backdrop");let scrollLocks=0;function lockScroll(e){scrollLocks+=e?1:-1,scrollLocks=Math.max(0,scrollLocks),document.body.style.overflow=scrollLocks>0?"hidden":""}function openMenu(){document.body.classList.add("menuOpen"),lockScroll(!0)}function closeMenu(){document.body.classList.remove("menuOpen"),lockScroll(!1)}function easeInOutCubic(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}function smoothScrollTo(e,t=780){const n=window.scrollY,o=e-n,a=performance.now();requestAnimationFrame((function e(r){const i=Math.min(1,(r-a)/t),l=easeInOutCubic(i);window.scrollTo(0,n+o*l),i<1&&requestAnimationFrame(e)}))}function scrollToSection(e){const t=document.getElementById(e);if(!t)return;const n=document.documentElement,o=document.body.classList.contains("scrolled")?"--headerSmall":"--headerTop",a=parseFloat(getComputedStyle(n).getPropertyValue(o))||96,r=t.getBoundingClientRect().top+window.scrollY-(a+18);smoothScrollTo(Math.max(0,r),780)}function handleNavClick(e){const t=e.target.closest("[data-target]");if(!t)return;const n=t.getAttribute("data-href");if(!!n&&n.trim().length>0){if(e.ctrlKey||e.metaKey||e.shiftKey||e.altKey)return;return e.preventDefault(),void(window.location.href=n)}e.preventDefault();const o=t.getAttribute("data-target");closeMenu(),scrollToSection(o)}menuBtn&&menuBtn.addEventListener("click",openMenu),closeBtn&&closeBtn.addEventListener("click",closeMenu),backdrop&&backdrop.addEventListener("click",closeMenu),document.addEventListener("keydown",(e=>{"Escape"===e.key&&closeMenu()})),document.addEventListener("click",handleNavClick);const toTop=document.getElementById("toTop"),topBtn=document.getElementById("topBtn");function updateToTop(){if(!toTop)return;const e=window.matchMedia("(max-width: 560px)").matches?220:700;window.scrollY>e?toTop.classList.add("show"):toTop.classList.remove("show")}function buildEmbedUrl(e){return`https://www.youtube.com/embed/${e}?${new URLSearchParams({autoplay:"0",rel:"0",modestbranding:"1",playsinline:"1"}).toString()}`}function mountInlinePlayer(e){if(!e)return;const t=e.getAttribute("data-video-id"),n=e.getAttribute("data-video-title")||"YouTube video";if(!t)return;const o=document.createElement("iframe");o.src=buildEmbedUrl(t),o.title=n,o.frameBorder="0",o.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",o.referrerPolicy="strict-origin-when-cross-origin",o.allowFullscreen=!0,o.style.width="100%",o.style.height="100%",o.style.display="block",o.style.border="0",e.innerHTML="",e.appendChild(o)}window.addEventListener("scroll",updateToTop,{passive:!0}),updateToTop(),topBtn&&topBtn.addEventListener("click",(e=>{e.preventDefault(),smoothScrollTo(0,860)}));const videoOpen=document.getElementById("videoOpen");if(videoOpen){const e=videoOpen.querySelector(".playBtn"),t=e=>{e&&e.preventDefault(),mountInlinePlayer(videoOpen)};e?(e.addEventListener("click",t),e.addEventListener("keydown",(e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),t(e))}))):videoOpen.addEventListener("click",t)}const DRIVE_FOLDERS={cultos:{id:"1G3-fLudBhqaOmxhQd8bjy31oYrPiqZWM",url:"https://drive.google.com/drive/folders/1G3-fLudBhqaOmxhQd8bjy31oYrPiqZWM?usp=drive_link",title:"Corrida Pela Vida - 2026"},eventos:{id:"1RcqD7vLWzPcRUVX5fq9pzuD9f1kzLY9v",url:"https://drive.google.com/drive/folders/1RcqD7vLWzPcRUVX5fq9pzuD9f1kzLY9v?usp=drive_link",title:"TEC Crian√ßas - 2026"}},galleryFrame=document.getElementById("galleryFrame"),openDriveBtn=document.getElementById("openDriveBtn"),tabBtns=Array.from(document.querySelectorAll(".tabBtn[data-gallery]"));function setActiveTab(e){tabBtns.forEach((t=>t.classList.toggle("active",t.getAttribute("data-gallery")===e)))}function setGallery(e){const t=DRIVE_FOLDERS[e];t&&(galleryFrame&&(galleryFrame.src=`https://drive.google.com/embeddedfolderview?id=${t.id}#grid`),openDriveBtn&&(openDriveBtn.href=t.url,openDriveBtn.textContent=`Abrir ${t.title} no Drive`),setActiveTab(e))}tabBtns.forEach((e=>{e.addEventListener("click",(()=>{setGallery(e.getAttribute("data-gallery"))}))})),setGallery("cultos");const CULTOS_FIXOS=[{dow:0,hour:18,min:0,label:"Culto de Celebra√ß√£o"},{dow:1,hour:19,min:0,label:"Culto de Mulheres"},{dow:2,hour:19,min:0,label:"Culto de Intercess√£o"},{dow:3,hour:19,min:0,label:"Culto de Jovens"},{dow:4,hour:19,min:0,label:"Culto da Fam√≠lia"}],nextBadge=document.getElementById("nextCultoBadge"),nextIn=document.getElementById("nextCultoIn"),nextMeta=document.getElementById("nextCultoMeta"),nextHint=document.getElementById("nextCultoHint");let NEXT_CULTO_CACHE=null;function pad2(e){return String(e).padStart(2,"0")}function formatDateBR(e){return`${["Dom","Seg","Ter","Qua","Qui","Sex","S√°b"][e.getDay()]} ‚Ä¢ ${pad2(e.getDate())}/${pad2(e.getMonth()+1)} ‚Ä¢ ${pad2(e.getHours())}:${pad2(e.getMinutes())}`}function isSameDay(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function buildOccurrence(e,t){const n=new Date(e),o=n.getDay();let a=(t.dow-o+7)%7;return n.setHours(t.hour,t.min,0,0),n.setDate(e.getDate()+a),0===a&&n.getTime()<=e.getTime()&&n.setDate(n.getDate()+7),n}function getNextCulto(){const e=new Date;let t=null;for(const n of CULTOS_FIXOS){const o=buildOccurrence(e,n),a=o.getTime()-e.getTime();a>0&&(!t||a<t.diff)&&(t={when:o,diff:a,item:n,now:e})}return t}function humanizeDiff(e){const t=Math.max(0,Math.floor(e/6e4)),n=Math.floor(t/1440),o=Math.floor(t%1440/60),a=t%60;if(t<60)return`em ${t} min`;const r=[];return n>0&&r.push(n+(1===n?" dia":" dias")),o>0&&r.push(o+(1===o?" hora":" horas")),a>0&&r.push(a+(1===a?" minuto":" minutos")),"daqui a "+r.join(", ")}function updateNextCulto(){if(!nextBadge||!nextIn||!nextMeta)return;const e=getNextCulto();if(NEXT_CULTO_CACHE=e,!e)return nextBadge.textContent="Sem dados",nextIn.textContent="‚Äî",void(nextMeta.textContent="‚Äî");const t=isSameDay(e.now,e.when);nextBadge.textContent=t?"Hoje":"Pr√≥ximo culto",nextIn.textContent=humanizeDiff(e.diff),nextMeta.textContent=`${e.item.label} ‚Ä¢ ${formatDateBR(e.when)}`,nextHint&&(nextHint.textContent=t?"Prepare-se ‚Äî esperamos voc√™ hoje!":"Baseado na programa√ß√£o semanal fixa.")}updateNextCulto(),setInterval(updateNextCulto,3e4);const WHATS_NUMBER="5516991044148";function buildWhatsLink(e){return"https://wa.me/"+WHATS_NUMBER+"?"+new URLSearchParams({text:e}).toString()}function getNextCultoText(){return"Ol√°! Gostaria de mais informa√ß√µes sobre o pr√≥ximo culto."}const waFloatBtn=document.getElementById("waFloatBtn");function wireWhatsBtn(e){if(!e)return;const t=buildWhatsLink(getNextCultoText());if("A"===e.tagName)return e.setAttribute("href",t),e.setAttribute("target","_blank"),void e.setAttribute("rel","noopener");e.addEventListener("click",(e=>{e.preventDefault(),window.open(t,"_blank","noopener")}))}wireWhatsBtn(waFloatBtn),wireWhatsBtn(document.getElementById("firstTimeWhatsBtn")),wireWhatsBtn(document.getElementById("ministeriosWhatsBtn")),wireWhatsBtn(document.getElementById("contatoWhatsBtn"));const noticeWrap=document.getElementById("noticeWrap"),noticeClose=document.getElementById("noticeClose"),noticeBody=document.getElementById("noticeBody");async function showNoticeIfNeeded(){try{const e="ieq_notice_dismissed_v1";if("1"===localStorage.getItem(e))return;const t=await loadUpcomingSchedule(),n='\n          <div class="row" style="margin-top:12px">\n            <button class="btn" type="button" id="openEventsModalBtn">üìÖ Ver lista completa</button>\n          </div>\n        ';noticeBody&&(noticeBody.innerHTML=renderUpcomingHTML(t)+n),noticeWrap&&(noticeWrap.style.display="block"),noticeClose&&noticeClose.addEventListener("click",(()=>{localStorage.setItem(e,"1"),noticeWrap.style.display="none"}));const o=document.getElementById("openEventsModalBtn");o&&o.addEventListener("click",(e=>{e.preventDefault(),openEventsModal()}))}catch(e){noticeWrap&&(noticeWrap.style.display="none")}}showNoticeIfNeeded();const eventsModalBack=document.getElementById("eventsModalBack"),eventsModalClose=document.getElementById("eventsModalClose"),eventsModalTitle=document.getElementById("eventsModalTitle"),eventsModalSubtitle=document.getElementById("eventsModalSubtitle"),eventsModalList=document.getElementById("eventsModalList");function openEventsModal(){eventsModalBack&&(eventsModalBack.classList.add("show"),eventsModalBack.setAttribute("aria-hidden","false"),lockScroll(!0),hydrateEventsModal())}function closeEventsModal(){eventsModalBack&&(eventsModalBack.classList.remove("show"),eventsModalBack.setAttribute("aria-hidden","true"),lockScroll(!1))}const openMonthAgendaBtn=document.getElementById("openMonthAgendaBtn");async function hydrateEventsModal(){try{eventsModalTitle&&(eventsModalTitle.textContent=`üìÖ Lista completa ‚Ä¢ ${monthLabelPt(new Date)}`),eventsModalSubtitle&&(eventsModalSubtitle.textContent="Carregando a agenda do m√™s‚Ä¶"),eventsModalList&&(eventsModalList.innerHTML="");const e=await loadMonthScheduleAll();eventsModalTitle&&(eventsModalTitle.textContent=`üìÖ Lista completa ‚Ä¢ ${e.monthLabel}`),eventsModalSubtitle&&(eventsModalSubtitle.textContent=e.items.length?"Eventos cadastrados na planilha para este m√™s:":"Nenhum evento encontrado para este m√™s."),eventsModalList&&(eventsModalList.innerHTML=renderMonthList(e.items))}catch(e){eventsModalSubtitle&&(eventsModalSubtitle.textContent="N√£o consegui carregar a agenda do m√™s (verifique a aba do m√™s na planilha)."),eventsModalList&&(eventsModalList.innerHTML="")}}openMonthAgendaBtn&&openMonthAgendaBtn.addEventListener("click",(e=>{e.preventDefault(),openEventsModal()})),eventsModalClose&&eventsModalClose.addEventListener("click",closeEventsModal),eventsModalBack&&eventsModalBack.addEventListener("click",(e=>{e.target===eventsModalBack&&closeEventsModal()}));const addCalBtn=document.getElementById("addCalBtn"),calModalBack=document.getElementById("calModalBack"),calModalClose=document.getElementById("calModalClose"),googleCalLink=document.getElementById("googleCalLink"),downloadIcsBtn=document.getElementById("downloadIcsBtn"),calModalText=document.getElementById("calModalText");function openCalModal(){calModalBack&&(calModalBack.classList.add("show"),calModalBack.setAttribute("aria-hidden","false"),lockScroll(!0),updateCalendarLinks())}function closeCalModal(){calModalBack&&(calModalBack.classList.remove("show"),calModalBack.setAttribute("aria-hidden","true"),lockScroll(!1))}function toICSDateLocal(e){return`${e.getFullYear()}${String(e.getMonth()+1).padStart(2,"0")}${String(e.getDate()).padStart(2,"0")}T${String(e.getHours()).padStart(2,"0")}${String(e.getMinutes()).padStart(2,"0")}${String(e.getSeconds()).padStart(2,"0")}`}function icsEscapeText(e){return String(e??"").replace(/\\/g,"\\\\").replace(/\r\n|\r|\n/g,"\\n").replace(/;/g,"\\;").replace(/,/g,"\\,")}function icsFoldLine(e,t=75){const n=[];let o=String(e);for(;o.length>t;)n.push(o.slice(0,t)),o=" "+o.slice(t);return n.push(o),n.join("\r\n")}function downloadICS({title:e,description:t,location:n,start:o,end:a}){const r="ieq-nuporanga-"+o.getTime()+"@site",i=toICSDateLocal(new Date),l=toICSDateLocal(o),s=toICSDateLocal(a),c=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//IEQ Nuporanga//Site//PT-BR","CALSCALE:GREGORIAN","METHOD:PUBLISH","BEGIN:VEVENT","UID:"+icsEscapeText(r),"DTSTAMP:"+i,"DTSTART:"+l,"DTEND:"+s,"SUMMARY:"+icsEscapeText(e),"DESCRIPTION:"+icsEscapeText(t),"LOCATION:"+icsEscapeText(n),"END:VEVENT","END:VCALENDAR"].map((e=>icsFoldLine(e))).join("\r\n")+"\r\n",d=new Blob([c],{type:"text/calendar;charset=utf-8"}),u=URL.createObjectURL(d),m=document.createElement("a");m.href=u,m.download="proximo-culto-ieq-nuporanga.ics",document.body.appendChild(m),m.click(),m.remove(),setTimeout((()=>URL.revokeObjectURL(u)),800)}function updateCalendarLinks(){const e=NEXT_CULTO_CACHE||getNextCulto();if(!e)return;const t=new Date(e.when),n=new Date(t.getTime()+54e5),o=`IEQ Nuporanga ‚Äî ${e.item.label}`,a="R. Joao Sabaini Neto, 135 - Jardim Brasilia | Nuporanga - SP",r="Venha nos visitar! Culto com dura√ß√£o m√©dia de 1h30. Temos salinha para as crian√ßas e voc√™ ser√° muito bem recepcionado(a).";calModalText&&(calModalText.textContent=`Pr√≥ximo culto: ${e.item.label} ‚Ä¢ ${formatDateBR(t)} (dura√ß√£o m√©dia: 1h30)`),googleCalLink&&(googleCalLink.href=buildGoogleCalendarUrl({title:o,details:r,location:a,start:t,end:n})),downloadIcsBtn&&(downloadIcsBtn.onclick=()=>{downloadICS({title:o,description:r,location:a,start:t,end:n})})}addCalBtn&&addCalBtn.addEventListener("click",(e=>{e.preventDefault(),openCalModal()})),calModalClose&&calModalClose.addEventListener("click",closeCalModal),calModalBack&&calModalBack.addEventListener("click",(e=>{e.target===calModalBack&&closeCalModal()})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&(calModalBack&&calModalBack.classList.contains("show")&&closeCalModal(),eventsModalBack&&eventsModalBack.classList.contains("show")&&closeEventsModal())})),function(){const e=document.getElementById("firstTimeCard"),t=document.getElementById("firstTimeClose"),n="ieq_first_time_dismissed_v1";if(e&&t)try{if("1"===localStorage.getItem(n))return void(e.style.display="none");t.addEventListener("click",(()=>{localStorage.setItem(n,"1"),e.style.display="none"}))}catch(n){t.addEventListener("click",(()=>{e.style.display="none"}))}}();const pixKeyBox=document.getElementById("pixKeyBox"),copyPixBtn=document.getElementById("copyPixBtn"),pixStatus=document.getElementById("pixStatus"),pixQrImg=document.getElementById("pixQrImg");function setPixUI(){const e=(PIX_KEY||"").trim();if(pixKeyBox&&(pixKeyBox.textContent=e||"Chave PIX ainda n√£o configurada"),pixStatus&&(pixStatus.textContent=e?`Titular: ${PIX_NAME}`:"Edite PIX_KEY no c√≥digo para ativar."),pixQrImg){const e=(PIX_QR_IMAGE_URL||"").trim();e?(pixQrImg.src=e,pixQrImg.style.display="block"):(pixQrImg.removeAttribute("src"),pixQrImg.style.display="block",pixQrImg.style.background="rgba(0,0,0,.22)",pixQrImg.alt="QR Code PIX (adicione a imagem)")}copyPixBtn&&(copyPixBtn.disabled=!e,copyPixBtn.style.opacity=e?"1":".6")}setPixUI(),copyPixBtn&&copyPixBtn.addEventListener("click",(async()=>{const e=(PIX_KEY||"").trim();if(e)try{await navigator.clipboard.writeText(e),copyPixBtn.textContent="‚úÖ PIX copiado",setTimeout((()=>{copyPixBtn.textContent="üìã Copiar chave PIX"}),1400)}catch(t){prompt("Copie a chave PIX:",e)}})),function(){const e=document.getElementById("waMiniBox"),t=document.getElementById("waMiniClose"),n="ieq_wa_mini_dismissed_v1";if(e&&t)try{if("1"===localStorage.getItem(n))return void(e.style.display="none");t.addEventListener("click",(()=>{e.style.display="none",localStorage.setItem(n,"1")}))}catch(n){t.addEventListener("click",(()=>{e.style.display="none"}))}}(),function(){const e=Array.from(document.querySelectorAll("section[id]")),t=Array.from(document.querySelectorAll("[data-target]"));function n(){let n=e[0].id;e.forEach((e=>{e.getBoundingClientRect().top-140<=0&&(n=e.id)}));var o;window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-6&&(n=e[e.length-1].id),o=n,t.forEach((e=>{e.classList.toggle("active",e.getAttribute("data-target")===o)}))}e.length&&t.length&&(window.addEventListener("scroll",n,{passive:!0}),n())}();const YT_CHANNEL_ID="UCNmU-juUErNMbHAJOQ508Ow",UPLOADS_PLAYLIST="UU"+YT_CHANNEL_ID.substring(2);function liveEmbedUrl(){return"https://www.youtube.com/embed/live_stream?"+new URLSearchParams({channel:YT_CHANNEL_ID,autoplay:"0",rel:"0",modestbranding:"1",playsinline:"1"}).toString()}function mountIframeInto(e,t,n){const o=document.createElement("iframe");o.src=t,o.title=n||"YouTube",o.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",o.allowFullscreen=!0,o.referrerPolicy="strict-origin-when-cross-origin",o.style.width="100%",o.style.height="100%",o.style.border="0",e.innerHTML="",e.appendChild(o)}!function(){const e=document.getElementById("liveMount"),t=document.getElementById("liveMeta"),n=document.getElementById("liveTryBtn");function o(){if(!YT_CHANNEL_ID.startsWith("UC"))return e.innerHTML='\n            <div class="livePlaceholder">\n              <div style="font-size:16px;font-weight:950">‚ö†Ô∏è ID do canal inv√°lido</div>\n              <div class="liveHint">Edite <b>YT_CHANNEL_ID</b> no final do arquivo (precisa come√ßar com <b>UC</b>).</div>\n              <div class="row" style="justify-content:center">\n                <a class="btn" href="https://www.youtube.com/@ieqnuporangasp" target="_blank" rel="noopener">Abrir canal</a>\n              </div>\n            </div>\n          ',void(t&&(t.textContent="üî¥ Ao vivo (configure o ID do canal)"));mountIframeInto(e,liveEmbedUrl(),"Transmiss√£o ao vivo"),t&&(t.textContent="üî¥ Ao vivo (quando houver transmiss√£o ativa no canal)")}e&&(window.ieqTryLoadLive=o,n&&n.addEventListener("click",(e=>{e.preventDefault(),o()})))}(),function(){const e=document.getElementById("aoVivo");if(!e)return;const t=[{dow:4,startMin:1080,endMin:1320},{dow:0,startMin:1020,endMin:1260}];function n(e=new Date){const n=e.getDay(),o=60*(a=e).getHours()+a.getMinutes();var a;return t.some((e=>e.dow===n&&o>=e.startMin&&o<=e.endMin))}let o=!1;function a(){if(!o&&n()&&"function"==typeof window.ieqTryLoadLive){o=!0;try{window.ieqTryLoadLive()}catch(e){}}}a(),setInterval(a,6e4);new IntersectionObserver((e=>{for(const t of e)if(t.isIntersecting&&t.intersectionRatio>=.35&&!o&&n()&&"function"==typeof window.ieqTryLoadLive){o=!0;try{window.ieqTryLoadLive()}catch(e){}}}),{threshold:[.35]}).observe(e)}();let YT_API_READY=!1,YT_API_LOADING=!1;const YT_READY_QUEUE=[];function loadYouTubeIframeAPI(){return YT_API_READY?Promise.resolve():YT_API_LOADING?new Promise((e=>YT_READY_QUEUE.push(e))):(YT_API_LOADING=!0,new Promise((e=>{YT_READY_QUEUE.push(e);const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",t.async=!0,document.head.appendChild(t)})))}function toGCalDateUTC(e){return`${e.getUTCFullYear()}${String(e.getUTCMonth()+1).padStart(2,"0")}${String(e.getUTCDate()).padStart(2,"0")}T${String(e.getUTCHours()).padStart(2,"0")}${String(e.getUTCMinutes()).padStart(2,"0")}${String(e.getUTCSeconds()).padStart(2,"0")}Z`}function buildGoogleCalendarUrl({title:e,details:t,location:n,start:o,end:a}){const r=`${toGCalDateUTC(o)}/${toGCalDateUTC(a)}`;return"https://calendar.google.com/calendar/render?action=TEMPLATE&"+new URLSearchParams({text:e||"",details:t||"",location:n||"",dates:r}).toString()}window.onYouTubeIframeAPIReady=function(){for(YT_API_READY=!0,YT_API_LOADING=!1;YT_READY_QUEUE.length;)try{YT_READY_QUEUE.shift()()}catch(e){}},function(){const e=document.getElementById("uploadsMount");if(!e)return;if(!YT_CHANNEL_ID.startsWith("UC"))return void(e.textContent="‚ö†Ô∏è Configure o ID do canal (YT_CHANNEL_ID) para carregar os v√≠deos.");e.innerHTML='<div style="padding:14px; text-align:center; opacity:.9">Carregando player‚Ä¶</div>';const t=15,n=650,o=10;let a=null,r=0,i=!1,l=null;function s(){l&&(clearTimeout(l),l=null)}function c(n){if(s(),i=!1,a)if(r++,r>t){e.innerHTML=`\n            <div class="livePlaceholder">\n              <div style="font-size:16px;font-weight:950">‚ö†Ô∏è N√£o achei um v√≠deo v√°lido</div>\n              <div class="liveHint">\n                Pulei ${t} itens (prov√°veis lives/upcoming/indispon√≠veis) e parei para n√£o travar.\n                <br><br>\n                Motivo: <b>${String(n||"‚Äî")}</b>\n              </div>\n              <div class="row" style="justify-content:center">\n                <a class="btn" href="https://www.youtube.com/@ieqnuporangasp/videos" target="_blank" rel="noopener">Abrir v√≠deos no YouTube</a>\n              </div>\n            </div>\n          `;try{a.destroy()}catch(e){}a=null}else try{a.nextVideo()}catch(e){}}function d(e){s(),l=setTimeout((()=>{if(a){if(function(){try{const e=a.getDuration();return!(e&&e>0)}catch(e){return!0}}())return e<=0?void c("dura√ß√£o 0 (prov√°vel live/upcoming/indispon√≠vel)"):void d(e-1);i=!1,s()}}),n)}function u(){i||(i=!0,d(o))}function m(){u()}function p(e){c("erro do player: "+(e&&e.data))}function g(e){const t=e&&e.data;if(t===YT.PlayerState.PLAYING)return i=!1,void s();t!==YT.PlayerState.CUED&&t!==YT.PlayerState.BUFFERING&&-1!==t||u(),t===YT.PlayerState.ENDED&&(r=Math.max(0,r-1))}loadYouTubeIframeAPI().then((()=>{window.YT&&window.YT.Player?a=new YT.Player("uploadsMount",{height:"100%",width:"100%",playerVars:{listType:"playlist",list:UPLOADS_PLAYLIST,rel:0,modestbranding:1,playsinline:1},events:{onReady:m,onError:p,onStateChange:g}}):e.textContent="‚ö†Ô∏è Falha ao carregar o player do YouTube."}))}(),document.addEventListener("contextmenu",(e=>e.preventDefault())),document.addEventListener("keydown",(e=>{"F12"===e.key&&e.preventDefault()}));
